<agm-map [latitude]="curLocation.x" [longitude]="curLocation.y" [zoom]="z">
	<agm-marker [latitude]="curLocation.x" [longitude]="curLocation.y" [iconUrl]="icons[0]"></agm-marker>
	<agm-marker *ngFor="let location of locations" [latitude]="location.latitude" [longitude]="location.longitude"
	 [iconUrl]="icons[location.map_icon]" id="{{location.id}}">

		<agm-info-window *ngIf="arePointsNear(location) && location.map_icon == 1">
			<p><span class="info-window-title">Je bent in de buurt van de vraag </span> <br>klik op de knop om het event te
				openen <br><b>voor {{location.points}} punten</b></p>
			<button class="small green ui button" (click)="showWindow(location)">OPEN</button>
		</agm-info-window>
		<agm-info-window *ngIf="!arePointsNear(location) && location.map_icon == 1">
			<p><span class="info-window-title">Je bent niet in de buurt</span> <br>kom hier heen om het event te doen <br><b>voor
					{{location.points}} punten</b></p>
		</agm-info-window>
		<agm-info-window *ngIf="location.map_icon == 2">
			<p><span class="info-window-title">Je hebt dit event al gedaan</span> <br>Je hebt voor dit event <b>{{location.points}}</b>
				punten gekregen</p>
		</agm-info-window>
	</agm-marker>
</agm-map>

<!-- question windows -->
<div *ngFor="let location of locations">
	<div id="popup-{{location.id}}" class="question-pop-up">
		<div class="question-popup-content" *ngIf="question != undifined">
			<form (ngSubmit)="checkAnswer(location.id)">
				<div class="ui grid">
					<div class="thirteen wide column">
						<p class="q-title">{{question.question}} {{location.points}}</p>
					</div>
					<div class="three wide column">
						<p class="q-title">{{timeRemaining | minutesSeconds}}</p>
					</div>
				</div>
				<p class="q-options" *ngFor="let answer of question.answers"><input type="radio" name="answer" (click)="setValue(answer.right_answer)">
					{{answer.answer}}.</p>
				<button type="submit" class="big one ui green button btn">Controleer</button>
			</form>
		</div>
	</div>

	<!-- feedback on given answer -->
	<div class="feedback-window right" id="right-{{location.id}}">
		<div class="bar">
			<p class="feedback-title">Goed Gedaan!</p>
		</div>
		<div class="center">
			<p>Het andwoord wat JIJ hebt gegeven is helemaal goed. En dat is heel knap van jou ğŸ‘ŒğŸ‘</p>
		</div>
		<div class="bottom">
			<button class="ui big button green btn" (click)="close(location.id)">*click* .... NOICE!</button>
		</div>
	</div>

	<div class="feedback-window wrong" id="wrong-{{location.id}}">
		<div class="bar">
			<p class="feedback-title">Helaas</p>
		</div>
		<div class="center">
			<p>Het andwoord wat JIJ hebt gegeven is helemaal fout.</p>
		</div>
		<div class="bottom">
			<button class="ui big button red flex-btn" (click)="close(location.id)">Verder</button>
			<button class="ui big button orange flex-btn" (click)="tryAgain(location)">Probeer opnieuw</button>
		</div>
	</div>
</div>